<cdk-accordion-item class="example-accordion col-md-12" style="display: block; cursor: default"
  #accordionItem="cdkAccordionItem" class="example-accordion-item" role="button" tabindex="0"
  [attr.id]="'accordion-header-' + id" [attr.aria-expanded]="accordionItem.expanded"
  [attr.aria-controls]="'accordion-body-' + id">
  <div class="rounded card"
    [ngClass]="{ 'disable-rounded-top-left': accordionItem.expanded, 'archive-card': event.isArchived == true }">
    <ul class="list-group" style="cursor: default">
      <li class="">
        <div class="card-body" *ngIf="!accordionItem.expanded">
          <!--                  Card field content-->
          <div class="row">
            <div class="col-md-10">
              <h1 class="event-title">{{ event.title }}</h1>
            </div>
            <div class="col-md-2">
              <div class="archive-img">
                <img *ngIf="event.isArchived" src="assets/images/archived.png" alt="archived icon" />
              </div>
            </div>
            <div class="info col-md-9">
              <div class="tags" *ngFor="let tag of event.tags" style="margin: -8px 2px 20px 0">
                <span class="badge badge-pill badge-primary">{{ tag.subject }}</span>
              </div>
            </div>
            <div class="info col-md-3">
              <p style="text-align: end; margin: -8px 2px 20px 0; font-style: oblique; font-weight: lighter">
                {{ event.dateOfEvent }}
              </p>
            </div>
          </div>
          <p class="description">{{ event.description }}</p>
        </div>
      </li>
    </ul>
    <div class="example-accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-' + id" [attr.aria-labelledby]="'accordion-header-' + id">
      <div class="small-expand-item" (click)="accordionItem.toggle()" (click)="clearDetails()" style="cursor: pointer">
        <div *ngIf="accordionItem.expanded">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
            class="bi bi-arrow-bar-down" viewBox="0 0 16 16" style="transform: rotate(180deg)">
            <path fill-rule="evenodd"
              d="M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5zM8 6a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L7.5 12.293V6.5A.5.5 0 0 1 8 6z" />
          </svg>
        </div>
      </div>
      <!--                Start accordion content-->
      <div *ngIf="loading; else content" class="row text-center">
        <app-loading-spinner></app-loading-spinner>
      </div>

      <ng-template #content>
        <div>
          <div class="row">
            <div class="col-md-12">
              <h1>{{ event.title }}</h1>
            </div>
            <div class="col-md-12">
              <div class="tags" *ngFor="let tag of event.tags" style="margin: -8px 2px 20px 0">
                <span class="badge badge-pill badge-primary">{{ tag.subject }}</span>
              </div>
            </div>
          </div>
          <h2>description</h2>
          <p>{{ event.description }}</p>
          <h2>{{ eventDetailsObject.content }}</h2>
          <p></p>
          <div class="row">
            <div class="tags" *ngFor="let media of eventDetailsObject.multimediaItems" style="margin: -8px 2px 20px 0">
              <app-event-media-item [path]="media.path? media.path: ''"
                [media]="media.multimedia"></app-event-media-item>
            </div>
          </div>
          <div class="more-options">
            <i class="material-icons" [matMenuTriggerFor]="menu">&#xe5d4;</i>
            <mat-menu #menu="matMenu">
              <button mat-menu-item [routerLink]="['edit', event.id]">Wijzigen</button>
              <button *ngIf="!event.isArchived" mat-menu-item (click)="archive(event.id!)">Archiveren</button>
              <button *ngIf="event.isArchived" mat-menu-item (click)="unarchive(event.id!)">De-archiveren</button>
            </mat-menu>
          </div>
          <div class="dateOfEvent">
            <p>{{ event.dateOfEvent }}</p>
          </div>
        </div>
      </ng-template>
    </div>

    <div class="expand-item" [ngClass]="{ 'archive-card': event.isArchived == true }" (click)="accordionItem.toggle()"
      (click)="getEventDetails(event.id!)" style="cursor: pointer">
      <div *ngIf="!accordionItem.expanded">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-bar-down"
          viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5zM8 6a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L7.5 12.293V6.5A.5.5 0 0 1 8 6z" />
        </svg>
      </div>

      <div *ngIf="accordionItem.expanded">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-bar-down"
          viewBox="0 0 16 16" style="transform: rotate(180deg)">
          <path fill-rule="evenodd"
            d="M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5zM8 6a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L7.5 12.293V6.5A.5.5 0 0 1 8 6z" />
        </svg>
      </div>
    </div>
  </div>
</cdk-accordion-item>